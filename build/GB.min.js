var GB=function(e){function i(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}([function(e,i,t){i.version="0.0.1",i.create=function(e){var i=t(1),n=t(2),o={view:new i(e.view),nodeTypes:e.nodeTypes},a={};return o.model=new n(o.view,o.nodeTypes,a),e.view.controls&&t(3)(o,e.view.controls,a),t(4)(o),o}},function(e,i){e.exports=function(e){this.width=e.width||window.innerWidth,this.height=e.height||window.innerWidth,this.renderer=new PIXI.WebGLRenderer(this.width,this.height,{transparent:e.transparent||!1}),this.stage=new PIXI.Container,this.graph=new PIXI.Container,this.links=new PIXI.Graphics,this.graph.position.x=this.width/2,this.graph.position.y=this.height/2,this.graph.addChild(this.links),this.stage.addChild(this.graph),document.getElementById(e.element).appendChild(this.renderer.view)}},function(e,i){e.exports=function(e,i,t){this.data={nodes:[],links:[]};var n=this.data;this.force=d3.layout.force().nodes(this.data.nodes).links(this.data.links).gravity(.002).charge(-100).linkDistance(35),this.addNode=function(o){if(!this.findNode(o.id)){var a=i[o.type],r=PIXI.Sprite.fromImage(a.texture);r.scale.x=a.scale||1,r.scale.y=a.scale||1,r.anchor.x=.5,r.anchor.y=.5,e.graph.addChild(r);var d=this.data.nodes.push({id:o.id,data:o.data,fixed:o.fixed||!1,x:o.pos?o.pos.x:void 0,y:o.pos?o.pos.y:void 0,multiId:o.multiId,$node:r});r.interactive=!0,r.on("mousedown",function(e){t.draggable=a.draggable?n.nodes[d-1]:void 0}),r.on("rightclick",function(e){n.nodes[d-1].fixed=!1});for(var s in a.events)r.on(s,function(e){a.events[s](e,n.nodes[d-1])});return this.force.start(),this.data.nodes[d-1]}},this.addLink=function(i,t,n,o){var i=this.findNode(i),t=this.findNode(t),a=new PIXI.Graphics;e.links.addChild(a),this.data.links.push({source:i,target:t,value:n,$link:a}),this.force.start()},this.findNode=function(e){for(var i in this.data.nodes)if(this.data.nodes[i].id===e)return this.data.nodes[i]}}},function(e,i){e.exports=function(e,i,t){var n,o,a=!1,r=1;e.view.stage.hitArea=new PIXI.Rectangle(0,0,window.innerWidth,window.innerHeight),e.view.stage.interactive=!0,e.view.stage.on("mousedown",function(e){var i=e.data.global;n=i.x,o=i.y,a=!0}),e.view.stage.on("mousemove",function(i){var r=i.data.global,d=i.data.getLocalPosition(e.view.graph);return t.draggable?(t.draggable.fixed=!0,t.draggable.px=d.x,t.draggable.py=d.y,void e.model.force.start()):void(a&&(e.model.force.start(),e.view.graph.position.x+=r.x-n,e.view.graph.position.y+=r.y-o,n=r.x,o=r.y))}),e.view.stage.on("mouseup",function(){t.draggable=void 0,a=!1}),e.view.renderer.view.addEventListener("wheel",function(t){t.deltaY>0?r-=.05*e.view.graph.scale.x:r+=.05*e.view.graph.scale.x,r<=(i.zoom.min||.01)&&(r=i.zoom.min||.01),r>=(i.zoom.max||10)&&(r=i.zoom.max||10),e.view.graph.scale.x=e.view.graph.scale.y=r}),e.view.renderer.view.addEventListener("contextmenu",function(e){e.preventDefault()})}},function(e,i){e.exports=function(e){function i(){e.model.data.nodes.forEach(function(e){e.$node.position.x=e.x,e.$node.position.y=e.y}),e.model.data.links.forEach(function(e){e.$link.clear(),e.$link.lineStyle(3,2719929,1),e.$link.moveTo(e.target.x,e.target.y),e.$link.lineTo(e.source.x,e.source.y)}),requestAnimationFrame(i),e.view.renderer.render(e.view.stage)}i()}}]);